import{r as i,$ as D,a0 as L,b as M,j as e,c as p,d as f,L as w,B as h,a1 as R,a2 as H,a as F,M as I,g as q,R as y}from"./index-BMSOC1w9.js";import{R as B}from"./index-Cugx3DnI.js";import{A as G,L as O}from"./index-CvyOsBeb.js";import{w as Q}from"./with-auth-B-Ibpsul.js";import{u as v,B as E}from"./index-4ONKnE8-.js";import{C as S}from"./index-BkKmWe5O.js";import{I as C}from"./index-2y9-Lgkl.js";const T=()=>{const{t:s}=v(),[r,n]=i.useState(""),[t,m]=i.useState(""),[c,d]=i.useState(""),[l,g]=i.useState(""),[u]=D(),[N]=L(),{data:j,isLoading:o,refetch:x}=M(),z=async()=>{if(n(""),d(""),r||m(s("Name is required")),c||g(s("Hex is required")),!r||!c)return;const a=await u({name:r,hex:c});console.log(a),a.error&&h.error(s("Something went wrong, try again later."),{className:"!bg-error"}),x()},A=async a=>{(await N(a)).error&&h.error(s("Something went wrong, try again later."),{className:"!bg-error"}),x()};return e.jsxs(S,{children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6",children:s("Colors")}),e.jsxs("div",{className:"flex gap-8 flex-col",children:[e.jsxs("div",{className:"flex items-end gap-4 max-w-[560px] w-full",children:[e.jsx(C,{label:s("Color name"),name:"name",value:r,onChange:a=>{n(a.target.value),a.target.value!==""&&m("")},className:p({"mb-[16px]":l&&!t}),error:t&&t}),e.jsx(C,{label:s("Color hex"),name:"name",value:c,onChange:a=>{d(a.target.value),a.target.value!==""&&g("")},className:p({"mb-[16px]":t&&!l}),error:l&&l}),e.jsx(E,{variant:"secondary",size:"sm",className:p("!px-[8px] !h-[40px] !transition",{"mb-[16px]":t||l}),onClick:z,children:e.jsx(f,{className:"size-[24px]"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-[16px]",children:[s("Existing categories"),":"]}),o?e.jsx(w,{className:"size-8"}):e.jsx("div",{className:"flex gap-4 flex-wrap min-w-[300px]",children:j.list.map(({name:a,hex:b},k)=>e.jsxs("div",{className:"flex text-[16px] gap-2 items-center border border-white200 rounded-lg h-[40px] p-3 pr-1 bg-white50 leading-none w-fit",children:[a,e.jsx("div",{className:"size-[16px] rounded-full outline outline-teal600 outline-[1px]",style:{backgroundColor:b}}),e.jsx(f,{className:"size-5 rotate-45 hover:stroke-soft-red p-1 box-content cursor-pointer",onClick:()=>A(a)})]},k))})]})]})]})},_=()=>{const{t:s}=v(),[r,n]=i.useState(""),[t,m]=i.useState(""),[c]=R(),[d]=H(),{data:l,isLoading:g,refetch:u}=F(),N=async()=>{if(n(""),!r){m(s("Name is required"));return}const o=await c(r);console.log(o),o.error&&h.error(s("Something went wrong, try again later."),{className:"!bg-error"}),u()},j=async o=>{(await d(o)).error&&h.error(s("Something went wrong, try again later."),{className:"!bg-error"}),u()};return e.jsxs(S,{children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6",children:s("Categories")}),e.jsxs("div",{className:"flex gap-8 flex-col",children:[e.jsxs("div",{className:"flex items-end gap-4 max-w-[300px] w-full",children:[e.jsx(C,{label:s("Category name"),name:"name",value:r,onChange:o=>n(o.target.value),className:"",error:t&&t}),e.jsx(E,{variant:"secondary",size:"sm",className:p("!px-[8px] !h-[40px] !transition",{"mb-[16px]":t}),onClick:N,children:e.jsx(f,{className:"size-[24px]"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h3",{className:"text-[16px]",children:[s("Existing categories"),":"]}),g?e.jsx(w,{className:"size-8"}):e.jsx("div",{className:"flex gap-4 flex-wrap",children:l.list.map(({name:o},x)=>e.jsxs("div",{className:"flex text-[16px] gap-2 items-center border border-white200 rounded-lg h-[40px] p-3 pr-1 bg-white50 leading-none w-fit",children:[o,e.jsx(f,{className:"size-5 rotate-45 hover:stroke-soft-red p-1 box-content cursor-pointer",onClick:()=>j(o)})]},x))})]})]})]})},P=()=>{const{t:s}=v(),{data:r,isLoading:n}=I(),t=q();return i.useEffect(()=>{r&&r.email!==G.email&&t(y.NOT_FOUND)},[r]),n?e.jsx("div",{className:"w-full min-h-screen flex justify-center items-center",children:e.jsx(w,{})}):e.jsxs(O,{className:"space-y-6",children:[e.jsx(B,{to:y.HOME,children:s("return to Home page")}),e.jsx(T,{}),e.jsx(_,{})]})},Y=Q(P);export{Y as default};
