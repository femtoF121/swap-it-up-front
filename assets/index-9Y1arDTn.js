import{f as N,g as j,h as b,j as e,R as a,L as w,i as S,B as u}from"./index-BWO5Dofk.js";import{L as y}from"./index-CWZvREIp.js";import{u as R,B as v}from"./index-DSI1hvh5.js";import{R as L}from"./index-BNmHKL0P.js";import{I as d}from"./index-BVC0U8wP.js";import{u as B}from"./formik.esm-DaXxEDLd.js";import{l as E}from"./validation-schemas-a_DpdEsn.js";const k=()=>{const[p]=N(),{t:s}=R(),r=j(),[g,{isLoading:h}]=b(),{errors:o,touched:t,handleBlur:n,values:x,handleChange:i,handleSubmit:f}=B({initialValues:{email:"",password:""},onSubmit:async()=>{try{if((await g({email:l,password:m})).error){u.error(s("Wrong credentials"),{className:"!bg-error"});return}if((await p()).isError){r(a.SIGN_UP,{state:{step:1}});return}r(a.HOME)}catch(c){u.error(JSON.stringify(c),{className:"!bg-error"})}},validationSchema:E}),{email:l,password:m}=x;return e.jsx(e.Fragment,{children:e.jsx(y,{children:e.jsxs("form",{onSubmit:f,className:"w-full flex flex-col items-center",children:[e.jsx("h1",{className:"text-[2.5rem]",children:s("Sign In")}),e.jsx(L,{to:a.HOME,className:"mt-2 mb-6",children:s("return to Home page")}),e.jsx(d,{className:"mb-4",label:s("Email"),type:"email",name:"email",onChange:i,onBlur:n,value:l,error:t.email?o.email:void 0}),e.jsx(d,{label:s("Password"),type:"password",name:"password",onChange:i,onBlur:n,value:m,error:t.password?o.password:void 0}),h&&e.jsx(w,{className:"!size-8 mt-6"}),e.jsx(v,{size:"sm",className:"w-full mt-6 mb-2",type:"submit",children:s("Sign in")}),e.jsxs("span",{children:[s("No account?")," ",e.jsx(S,{to:a.SIGN_UP,className:"underline decoration-1 text-orange400",children:s("Create one")})]})]})})})};export{k as default};
