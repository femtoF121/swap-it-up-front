import{g as j,h as b,i as w,j as e,R as a,L as S,k as u,B as d}from"./index-UD_dH3ZA.js";import{L as y}from"./index-Bbcgj0Ns.js";import{u as R,B as v}from"./index-DMnKym-8.js";import{R as L}from"./index-Bx0SBfAf.js";import{I as p}from"./index-CtP9EIvt.js";import{u as B}from"./formik.esm-BfZ3xfzO.js";import{l as E}from"./validation-schemas-BV6dQSB1.js";const M=()=>{const[g]=j(),{t:s}=R(),r=b(),[h,{isLoading:x}]=w(),{errors:o,touched:t,handleBlur:n,values:f,handleChange:i,handleSubmit:N}=B({initialValues:{email:"",password:""},onSubmit:async()=>{try{if((await h({email:l,password:m})).error){d.error(s("Wrong credentials"),{className:"!bg-error"});return}if((await g()).isError){r(a.SIGN_UP,{state:{step:1}});return}r(a.HOME)}catch(c){d.error(JSON.stringify(c),{className:"!bg-error"})}},validationSchema:E}),{email:l,password:m}=f;return e.jsx(e.Fragment,{children:e.jsx(y,{children:e.jsxs("form",{onSubmit:N,className:"w-full flex flex-col items-center",children:[e.jsx("h1",{className:"text-[2.5rem]",children:s("Sign In")}),e.jsx(L,{to:a.HOME,className:"mt-2 mb-6",children:s("return to Home page")}),e.jsx(p,{className:"mb-4",label:s("Email"),type:"email",name:"email",onChange:i,onBlur:n,value:l,error:t.email?o.email:void 0}),e.jsx(p,{label:s("Password"),type:"password",name:"password",onChange:i,onBlur:n,value:m,error:t.password?o.password:void 0}),x&&e.jsx(S,{className:"!size-8 mt-6"}),e.jsx(v,{size:"sm",className:"w-full mt-6 mb-2",type:"submit",children:s("Sign in")}),e.jsxs(u,{to:"#",className:"underline decoration-1 mb-2",children:[s("Forgot password"),"?"]}),e.jsxs("span",{children:[s("No account?")," ",e.jsx(u,{to:a.SIGN_UP,className:"underline decoration-1 text-orange400",children:s("Create one")})]})]})})})};export{M as default};
